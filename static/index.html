<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MyESPHOme</title>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'G-9HB5QGY82J');
  </script>
  <script type="module" src="https://unpkg.com/esp-web-tools@9/dist/web/install-button.js?module"></script>
  </head>
  <body>

<div class="radios">
    <label>
      <input type="radio" name="type" value="luxmeter" checked /><br>
      <td><b>luxmeter</b></td><br>
    </label>
    <label>
      <input type="radio" name="type" value="vindriktning" /><br>
      <td><b>vindriktning</b></td><br>
    </label>
    

  </div>
  <p class="button-row" align="center">
    <esp-web-install-button></esp-web-install-button>
  </p>

  <script>
    document.querySelectorAll('input[name="type"]').forEach((radio) =>
      radio.addEventListener("change", () => {
        const button = document.querySelector("esp-web-install-button");
        button.manifest = `./${radio.value}/manifest.json`;

        document.querySelectorAll(".info").forEach((info) => {
          info.classList.add("hidden");
        });
        document
          .querySelector(`.info.${radio.value}`)
          .classList.remove("hidden");
      })
    );
    document
      .querySelector('input[name="type"]:checked')
      .dispatchEvent(new Event("change"));
    if (new URLSearchParams(document.location.search).has("special")) {
      document.body.classList.add("show-special");
    }
  </script>

</body>
</html>